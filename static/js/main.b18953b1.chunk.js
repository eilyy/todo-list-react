(this["webpackJsonptodo-list"]=this["webpackJsonptodo-list"]||[]).push([[0],{57:function(t,e,a){},68:function(t,e,a){},69:function(t,e,a){},70:function(t,e,a){},74:function(t,e,a){},75:function(t,e,a){},76:function(t,e,a){},77:function(t,e,a){},78:function(t,e,a){"use strict";a.r(e);var n=a(0),c=a.n(n),s=a(21),r=a.n(s),o=(a(57),a(10)),i=a(6),l=a(27),u=a(18),d=a(38),h=a(37),p=a(7),j=a.n(p),f=a(14),b=a(4),k=c.a.createContext(void 0),m=a(3),_=function(){return function(t){return function(e){return Object(m.jsx)(k.Consumer,{children:function(a){return Object(m.jsx)(t,Object(b.a)(Object(b.a)({},e),{},{TodoService:a}))}})}}},g=a(20),O=a(28),v=(a(68),{taskDeleted:function(t){return{type:"TASK_DELETED",payload:t}},taskUpdated:function(t,e){return{type:"TASK_UPDATED",payload:{taskId:t,data:e}}}}),x=_()(Object(o.b)((function(t){return{tasks:t.tasks,loading:t.loading,error:t.error,theme:t.theme}}),v)((function(t){var e=t.item,a=e.name,n=e.done,c=e.fav,s=e.id,r=function(){var e=Object(f.a)(j.a.mark((function e(a){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.taskDeleted(a),n=t.TodoService,e.next=4,n.deleteTask(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(f.a)(j.a.mark((function e(s){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.taskUpdated(s,{fav:!c}),r=t.TodoService,e.next=4,r.updateTask(s,{name:a,done:n,fav:!c});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(f.a)(j.a.mark((function e(s){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.taskUpdated(s,{done:!n}),r=t.TodoService,e.next=4,r.updateTask(s,{name:a,fav:c,done:!n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("section",{className:"task-item "+(c?"task-item_fav ":"")+("Dark"===t.theme?"task-item_dark":""),children:[Object(m.jsxs)("div",{className:"task-item__flex",children:[Object(m.jsxs)("div",{className:"task-item__info",children:[Object(m.jsx)("div",{className:"task-item__checkbox",onClick:function(){return i(s)},children:Object(m.jsx)(g.a,{className:n?"task-item__icon task-item__icon-check":"task-item__icon task-item__icon_hidden",icon:O.a})}),Object(m.jsx)("div",{className:"task-item__text-wrapper",children:Object(m.jsx)("span",{className:n?"task-item__text task-item__text_done":"task-item__text",onClick:function(){return i(s)},children:a})})]}),Object(m.jsxs)("div",{className:"task-item__options",children:[Object(m.jsx)("div",{className:"task-item__icon-wrapper",children:Object(m.jsx)(g.a,{className:c?"task-item__icon task-item__icon-fav":"task-item__icon",icon:O.c,onClick:function(){return o(s)}})}),Object(m.jsx)("div",{className:"task-item__icon-wrapper",children:Object(m.jsx)(g.a,{className:"task-item__icon task-item__icon-delete",icon:O.d,onClick:function(){return r(s)}})})]})]}),Object(m.jsx)("div",{className:"task-item__fav-border"})]})}))),w=(a(69),{tasksLoaded:function(t){return{type:"TASKS_LOADED",payload:t}},tasksRequested:function(){return{type:"TASKS_REQUESTED"}},tasksError:function(){return{type:"TASKS_ERROR"}}}),S=function(t){Object(d.a)(a,t);var e=Object(h.a)(a);function a(){return Object(l.a)(this,a),e.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){document.title="tododo",this.loadTasks()}},{key:"componentDidUpdate",value:function(t,e,a){t.favFilter!==this.props.favFilter&&this.loadTasks()}},{key:"loadTasks",value:function(){var t=this;this.props.tasksRequested();var e=this.props.TodoService;this.props.favFilter?e.getTasks().then((function(e){return t.props.tasksLoaded(e.filter((function(t){return t.fav})))})).catch((function(e){return t.props.tasksError()})):e.getTasks().then((function(e){return t.props.tasksLoaded(e)})).catch((function(e){return t.props.tasksError()}))}},{key:"render",value:function(){var t=this,e=this.props.tasks.map((function(e){return Object(m.jsx)(x,{item:e,onDelete:t.onDelete},e.id)}));return Object(m.jsx)("div",{className:"tasks-list",children:e})}}]),a}(n.Component),y=_()(Object(o.b)((function(t){return{tasks:t.tasks,loading:t.loading,error:t.error,favFilter:t.favFilter}}),w)(S)),E=a(22),T=a(44),N=(a(70),function(t){Object(d.a)(a,t);var e=Object(h.a)(a);function a(){return Object(l.a)(this,a),e.apply(this,arguments)}return Object(u.a)(a,[{key:"onLangSwitch",value:function(){"English"===this.props.lang?localStorage.lang="Russian":localStorage.lang="English",this.props.langSwitched(localStorage.lang)}},{key:"onThemeSwitch",value:function(){"Light"===this.props.theme?localStorage.theme="Dark":localStorage.theme="Light",this.props.themeSwitched(localStorage.theme)}},{key:"componentDidMount",value:function(){this.props.langSwitched(localStorage.lang),this.props.themeSwitched(localStorage.theme)}},{key:"render",value:function(){var t=this;return Object(m.jsx)("header",{className:"Light"===this.props.theme?"app-header":"app-header app-header_dark",children:Object(m.jsxs)("div",{className:"container app-header__wrapper",children:[Object(m.jsxs)("nav",{className:"app-header__nav",children:[Object(m.jsx)(E.b,{className:"app-header__nav-item app-header__nav-item_logo",to:"/todo-list-react",children:"English"===this.props.lang?"tododo":"\u0442\u0443\u0434\u0443\u0434\u0443"}),Object(m.jsx)(E.b,{className:"app-header__nav-item",to:"/todo-list-react/contacts",children:"English"===this.props.lang?"Contacts":"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"})]}),Object(m.jsxs)("div",{className:"app-header__tools",children:[Object(m.jsx)("div",{className:"Light"===this.props.theme?"app-header__tools-item tool":"app-header__tools-item tool tool_dark",children:Object(m.jsx)("div",{title:"English"===this.props.lang?"Change Theme":"\u0421\u043c\u0435\u043d\u0438\u0442\u044c \u0422\u0435\u043c\u0443",onClick:function(){return t.onThemeSwitch()},className:"tool__theme",children:Object(m.jsx)("div",{className:"tool__theme-switch"})})}),Object(m.jsxs)("div",{className:"Light"===this.props.theme?"app-header__tools-item tool":"app-header__tools-item tool tool_dark",children:[Object(m.jsx)(T.a.GB,{title:"English"===this.props.lang?"Change Language":"\u0421\u043c\u0435\u043d\u0438\u0442\u044c \u042f\u0437\u044b\u043a",className:"English"===this.props.lang?"tool__flag tool__flag-gb":"tool__flag tool__flag-gb tool__flag-hidden",onClick:function(){return t.onLangSwitch()}}),Object(m.jsx)(T.a.RU,{title:"English"===this.props.lang?"Change Language":"\u0421\u043c\u0435\u043d\u0438\u0442\u044c \u042f\u0437\u044b\u043a",className:"Russian"===this.props.lang?"tool__flag tool__flag-ru":"tool__flag tool__flag-ru tool__flag-hidden",onClick:function(){return t.onLangSwitch()}})]})]})]})})}}]),a}(n.Component)),C={langSwitched:function(t){return{type:"LANG_SWITCHED",payload:t}},themeSwitched:function(t){return{type:"THEME_SWITCHED",payload:t}}},D=Object(o.b)((function(t){return{lang:t.lang,theme:t.theme}}),C)(N),L=a(95),A=a(43),R=a(47),I=(a(74),Object(o.b)((function(t){return{lang:t.lang,theme:t.theme}}))((function(t){return Object(n.useEffect)((function(){"English"===t.lang?document.title="tododo - Contacts":document.title="tododo - \u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"})),Object(m.jsxs)(L.a,{className:"Light"===t.theme?"contacts":"contacts contacts_dark",children:[Object(m.jsx)("h1",{className:"contacts__text",children:"English"===t.lang?"Hit me up ;)":"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u043c\u043d\u0435 ;)"}),Object(m.jsxs)("div",{className:"contacts__icons",children:[Object(m.jsx)("div",{className:"contacts__icon-wrapper",children:Object(m.jsx)("a",{target:"_blank",href:"mailto: ilyaevdokkimov@gmail.com",rel:"noreferrer",children:Object(m.jsx)(g.a,{className:"contacts__icon",icon:R.a})})}),Object(m.jsx)("div",{className:"contacts__icon-wrapper",children:Object(m.jsx)("a",{target:"_blank",href:"https://t.me/whereismybeemer/",rel:"noreferrer",children:Object(m.jsx)(g.a,{className:"contacts__icon",icon:A.b})})}),Object(m.jsx)("div",{className:"contacts__icon-wrapper",children:Object(m.jsx)("a",{target:"_blank",href:"https://instagram.com/whereismybeemer/",rel:"noreferrer",children:Object(m.jsx)(g.a,{className:"contacts__icon",icon:A.a})})})]}),Object(m.jsxs)(E.b,{className:"contacts__back-btn",to:"/todo-list-react",children:[Object(m.jsx)("div",{className:"contacts__back-icon-wrapper",children:Object(m.jsx)(g.a,{className:"contacts__back-icon",icon:O.b})}),"English"===t.lang?"back to":"\u043d\u0430\u0437\u0430\u0434 \u043a",Object(m.jsx)("span",{className:"contacts__tododo",children:"tododo"})]})]})}))),U=a(97),F=(a(75),{taskPosted:function(t){return{type:"TASK_POSTED",payload:t}}}),K=_()(Object(o.b)((function(t){return{tasks:t.tasks,lang:t.lang,theme:t.theme}}),F)((function(t){Object(n.useEffect)((function(){document.querySelector("#new-task-btn").disabled=t.tasks.length>=20}),[t.tasks.length]);var e=function(){var e=Object(f.a)(j.a.mark((function e(a){var n,c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),""===(n=document.querySelector("#new-task-input")).value){e.next=8;break}return c={name:n.value,done:!1,fav:!1},e.next=6,t.TodoService.postTask(c).then((function(t){return t.id}));case 6:s=e.sent,t.taskPosted(Object(b.a)(Object(b.a)({},c),{},{id:s}));case 8:n.value="";case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("form",{className:"Light"===t.theme?"new-task":"new-task new-task_dark",onSubmit:e,children:[Object(m.jsx)("input",{type:"text",id:"new-task-input",className:"new-task__input",placeholder:"English"===t.lang?"Enter a new task":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u0443\u044e \u0437\u0430\u0434\u0430\u0447\u0443",autoComplete:"off"}),Object(m.jsx)(U.a,{id:"new-task-btn",className:"new-task__btn",children:"English"===t.lang?"Create":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})]})}))),P=a(17),H=a(96),W=(a(76),Object(P.a)({switchBase:{color:"#9a9a9a",border:"#0d6efd","&:hover":{backgroundColor:"rgba(124,124,124,0.1)"},"&$checked":{color:"#3285ff","&:hover":{backgroundColor:"rgba(13, 110, 253, 0.1)"}},"&$checked + $track":{backgroundColor:"#0d6efd"}},checked:{},track:{backgroundColor:"grey"}})(H.a)),M={filterSwitched:function(t){return{type:"FILTER_SWITCHED",payload:t}}},q=Object(o.b)((function(t){return{lang:t.lang}}),M)((function(t){return Object(m.jsxs)("div",{className:"filter",children:["English"===t.lang?"all":"\u0432\u0441\u0435",Object(m.jsx)(W,{onChange:function(e){t.filterSwitched(e.target.checked)}}),"English"===t.lang?"fav":"\u0438\u0437\u0431"]})})),B=(a(77),Object(o.b)((function(t){return{theme:t.theme}}))((function(t){return Object(n.useEffect)((function(){void 0===localStorage.lang&&(localStorage.lang="English"),void 0===localStorage.theme&&(localStorage.theme="Light")}),[]),Object(m.jsxs)("div",{className:"Light"===t.theme?"app":"app app_dark",children:[Object(m.jsx)(D,{}),Object(m.jsx)(i.a,{exact:!0,path:"/todo-list-react",children:Object(m.jsxs)(L.a,{children:[Object(m.jsx)(K,{}),Object(m.jsx)(q,{}),Object(m.jsx)(y,{})]})}),Object(m.jsx)(i.a,{path:"/todo-list-react/contacts",component:I,title:"Contacts"})]})}))),J=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,98)).then((function(e){var a=e.getCLS,n=e.getFID,c=e.getFCP,s=e.getLCP,r=e.getTTFB;a(t),n(t),c(t),s(t),r(t)}))},G=function(){function t(){Object(l.a)(this,t),this._url="https://todo-list-react-db.herokuapp.com"}return Object(u.a)(t,[{key:"getResource",value:function(){var t=Object(f.a)(j.a.mark((function t(e){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(this._url,"/").concat(e));case 2:if((a=t.sent).ok){t.next=5;break}throw new Error("Unable to fetch ".concat(this._url,"/").concat(e," with status ").concat(a.status));case 5:return t.next=7,a.json();case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"postTask",value:function(){var t=Object(f.a)(j.a.mark((function t(e){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(this._url,"/tasks"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 2:if((a=t.sent).ok){t.next=5;break}throw new Error("Unable to post to ".concat(this._url,"/tasks with status ").concat(a.status));case 5:return t.next=7,a.json();case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"deleteTask",value:function(){var t=Object(f.a)(j.a.mark((function t(e){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(this._url,"/tasks/").concat(e),{method:"DELETE"});case 2:if((a=t.sent).ok){t.next=5;break}throw new Error("Unable to delete ".concat(this._url,"/tasks/").concat(e," with status ").concat(a.status));case 5:return t.next=7,a.json();case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"updateTask",value:function(){var t=Object(f.a)(j.a.mark((function t(e,a){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(this._url,"/tasks/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 2:if((n=t.sent).ok){t.next=5;break}throw new Error("Unable to update ".concat(this._url,"/tasks/").concat(e," with status ").concat(n.status));case 5:return t.next=7,n.json();case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}),t,this)})));return function(e,a){return t.apply(this,arguments)}}()},{key:"getTasks",value:function(){var t=Object(f.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getResource("tasks");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),t}(),$=a(51),Q=a(13),z={tasks:[],loading:!0,error:!1,lang:"",favFilter:!1,theme:""},V=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"TASKS_LOADED":return Object(b.a)(Object(b.a)({},t),{},{tasks:e.payload,loading:!1});case"TASKS_REQUESTED":return Object(b.a)(Object(b.a)({},t),{},{tasks:t.tasks,loading:!0,error:!1});case"TASKS_ERROR":return Object(b.a)(Object(b.a)({},t),{},{tasks:t.tasks,loading:!1,error:!0});case"TASK_POSTED":return Object(b.a)(Object(b.a)({},t),{},{tasks:[].concat(Object(Q.a)(t.tasks),[e.payload])});case"TASK_DELETED":var a=t.tasks.findIndex((function(t){return t.id===e.payload}));return Object(b.a)(Object(b.a)({},t),{},{tasks:[].concat(Object(Q.a)(t.tasks.slice(0,a)),Object(Q.a)(t.tasks.slice(a+1)))});case"TASK_UPDATED":var n=t.tasks.findIndex((function(t){return t.id===e.payload.taskId}));return Object(b.a)(Object(b.a)({},t),{},{tasks:[].concat(Object(Q.a)(t.tasks.slice(0,n)),[Object(b.a)(Object(b.a)({},t.tasks[n]),e.payload.data)],Object(Q.a)(t.tasks.slice(n+1)))});case"LANG_SWITCHED":return Object(b.a)(Object(b.a)({},t),{},{lang:e.payload});case"FILTER_SWITCHED":return Object(b.a)(Object(b.a)({},t),{},{favFilter:e.payload});case"THEME_SWITCHED":return Object(b.a)(Object(b.a)({},t),{},{theme:e.payload});default:return t}},X=Object($.a)(V),Y=new G;r.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(o.a,{store:X,children:Object(m.jsx)(k.Provider,{value:Y,children:Object(m.jsx)(E.a,{children:Object(m.jsx)(B,{})})})})}),document.getElementById("root")),J()}},[[78,1,2]]]);
//# sourceMappingURL=main.b18953b1.chunk.js.map